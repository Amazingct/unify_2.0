<Button>:
    color:1,1,1,1
    font_size: 12
<Label>:
    font_size: 15
    #color:0.3,0.6,0.7,1

# create a new class that inherit from button behavior and Labels(no background)
<FlatButton@ButtonBehavior+Label>:
    font_size: 16

<BoldLabel@Label>:
    font_size: 15
    color: 1,1,1,1
    bold:True

<SmoothButton@Button>:
    background_color: (0,0,0,0)
    background_normal: ""
    back_color: (1,0,1,1)
    border_radius:[12]
    bold:True
    font_size: 12
    font_name: "font"
    canvas.before:
        Color:
            rgba:self.back_color
        RoundedRectangle:
            size:self.size
            pos:self.pos
            radius:self.border_radius
#info popup
<Info>:
    info:info
    orientation: "vertical"
    yes_button:yes_button
    no_button:no_button
    Label:
        id:info
        text: ""
        size_hint_y:0.9

    BoxLayout:
        size_hint_y:0.1
        orientation:"horizontal"
        Button:
            id: yes_button
            text:"yes"
            on_release:root.response("yes")
        Button:
            id: no_button
            text:"No"
            on_release:root.response("no")
#sign in/log in info popup

<login_info>:
    info:info
    orientation: "vertical"
    Label:
        id:info
        text: ""



<Add_new>:
    orientation: "vertical"
    add:add
    info:info
    cancle:cancle
    c_type:c_type
    c_name:c_name
    Label:
        id:info
        text: ""
        size_hint_y:0.1
    BoxLayout:
        size_hint_y:0.8
        orientation: "vertical"

        Label:
            size_hint_y:0.4
            text:""
         # NAME OF DEVICE
        BoxLayout:
            size_hint_y:0.1
            orientation: "horizontal"
            Label:
                text: "Name"
                size_hint_x:0.2
            TextInput:
                id: c_name
                multiline:False
        # TYPE OF DEVICE
        BoxLayout:
            size_hint_y:0.1
            orientation: "horizontal"
            Label:
                text: "Type"
                size_hint_x:0.2
            TextInput:
                id: c_type
                multiline:False
        Label:
            size_hint_y:0.4
            text:""
    BoxLayout:
        size_hint_y:0.1
        orientation:"horizontal"
        Button:
            id: add
            text:"Add"
            on_release:root.response("add")
        Button:
            id: cancle
            text:"Cancle"
            on_release:root.response("cancle")

<Login>:
    name: "login"
    password: password

    email: email
    user_id: 0

    BoxLayout:
        orientation:"vertical"
        canvas.before:
            Color:
                rgba:(1,1,1,0.7)
            Rectangle:
                pos: self.pos
                size: self.size
                source: 'bg1.jpg'

        # Empty top
        BoxLayout:
            size_hint_y: 0.37

        BoxLayout:
            size_hint_y:0.25
            orientation:"horizontal"
            BoxLayout:
                orientation:"vertical"
                size_hint_x: 0.4
                spacing: 4
                # MAIN SECTION
                BoxLayout:
                    orientation:"horizontal"
                    Widget:
                        size_hint_x: 0.3
                    Label:
                        font_name:"font"
                        size_hint_x: 0.7
                        text: "UNIFY"
                        font_name: "font"
                        bold:1
                        font_size:50

                BoxLayout:
                    orientation:"horizontal"
                    Widget:
                        size_hint_x: 0.3
                    TextInput:
                        size_hint_x: 0.7
                        hint_text: "Email"
                        id:email
                        multiline:False
                        font_size: 12
                BoxLayout:
                    orientation:"horizontal"
                    Widget:
                        size_hint_x: 0.3
                    TextInput:
                        size_hint_x: 0.7
                        id: password
                        hint_text: "Password"
                        multiline:False
                        font_size: 12
                        password: True
                BoxLayout:
                    orientation:"horizontal"
                    spacing:10
                    Widget:
                        size_hint_x: 0.3
                    SmoothButton:
                        size_hint_x: 0.35
                        text:"Register"
                        back_color:(0.157, 0.455, 0.753, 1.0)

                        on_release: root.button_action("register")
                    SmoothButton:
                        size_hint_x: 0.35
                        text:"Login"
                        back_color:(0.157, 0.455, 0.753, 1.0)
                        on_release: root.button_action("login")
            Label:
                size_hint_x: 0.6
        # Empty bottom
        Label:
            size_hint_y: 0.25

<Register>:
    name: "register"
    password: password
    r_password: r_password
    email: email

    BoxLayout:
        orientation:"vertical"
        canvas.before:
            Color:
                rgba:(1,1,1,0.7)
            Rectangle:
                pos: self.pos
                size: self.size
                source: 'bg1.jpg'

        # Empty top
        Label:
            size_hint_y: 0.37


        BoxLayout:
            size_hint_y:0.25
            orientation:"horizontal"


            BoxLayout:
                orientation:"vertical"
                size_hint_x: 0.4
                spacing: 4

                # MAIN SECTION
                BoxLayout:
                    orientation:"horizontal"
                    Widget:
                        size_hint_x: 0.3
                    TextInput:
                        size_hint_x: 0.7
                        hint_text: "Email"
                        id:email
                        multiline:False
                        font_size: 12

                BoxLayout:
                    orientation:"horizontal"
                    Widget:
                        size_hint_x: 0.3
                    TextInput:
                        size_hint_x: 0.7
                        id: password
                        hint_text: "Password"
                        multiline:False
                        font_size: 12
                        password: True

                BoxLayout:
                    orientation:"horizontal"
                    Widget:
                        size_hint_x: 0.3
                    TextInput:
                        size_hint_x: 0.7
                        hint_text: "Retype password"
                        id: r_password
                        multiline:False
                        font_size: 12
                        password: True

                BoxLayout:
                    orientation:"horizontal"
                    spacing:10
                    Widget:
                        size_hint_x: 0.3

                    SmoothButton:
                        size_hint_x: 0.35
                        text:"Submit"
                        bold: 1
                        back_color:(0.157, 0.455, 0.753, 1.0)
                        on_release: root.button_action("submit")
                    SmoothButton:
                        size_hint_x: 0.35
                        text:"Login"
                        bold: 1
                        back_color:(0.157, 0.455, 0.753, 1.0)
                        on_release: root.button_action("back_to_login")
            Label:
                size_hint_x: 0.6


        # Empty bottom
        Label:
            size_hint_y: 0.37


<Home>:
    name: "home"
    email: email
    cloud: cloud
    local: local
    devices_box:devices_box
    hub_temperature: hub_temperature
    hub_humidity: hub_humidity
    on_pre_enter: root.render()



    BoxLayout:
        orientation:"vertical"
        spacing:10
        canvas.before:
            Color:
                rgba:(1,1,1,0.3)
            Rectangle:
                pos: self.pos
                size: self.size
                source: 'bg1.jpg'
        #Appbar
        BoxLayout:
            size_hint_y:0.09
            orientation:"horizontal"
            canvas.before:
                Color:
                    rgba:(0.157, 0.455, 0.753, 1.0)
                Rectangle:
                    size: self.size
                    pos: self.pos
            FlatButton:
                color:1,1,1,1
                size_hint_x: 0.1
                text: "Menu"
                on_release: root.button_action("f")
                bold:True

            Label:
                color:1,1,1,1
                text: "Devices"
                bold: True
                size_hint_x: 0.8
            FlatButton:
                color:1,1,1,1
                size_hint_x: 0.1
                text: "Logout"
                bold: True
                on_release: root.button_action("logout")
        # Main window
        BoxLayout:
            orientation:"horizontal"
            size_hint_y: 0.07
            Label:
                color: 1,1,1,1
                id: email
                text: ""
                bold: True
                size_hint_x: 0.94
            Button:
                id: local
                text: "Local"
                bold: True
                back_color:(0.157, 0.455, 0.753, 1.0)
                group:"int"
                allow_no_selection:False
                on_press:root.button_action("local")
                size_hint_x: 0.07
            Button:
                id: cloud
                text: "Cloud"
                bold: True
                back_color:(0.157, 0.455, 0.753, 1.0)
                group:"int"
                allow_no_selection:False
                on_press:root.button_action("cloud")
                size_hint_x: 0.07
            Widget:
                size_hint_x: 0.02



        BoxLayout:
            orientation:"vertical"
            Label:
                size_hint_y:0.05
                id: ""


            BoxLayout:
                size_hint_y:0.9
                orientation:"horizontal"
                Label:
                    size_hint_x:0.03
                    id: ""

                BoxLayout:
                    size_hint_x:0.40
                    orientation:"vertical"
                    size_hint_x:0.40
                    orientation:"vertical"


                    # CONNECTED DEVICES
                    GridLayout:
                        cols:1
                        size_hint_y:0.07
                        canvas.before:
                            Color:
                                rgba:(1,1,1,0.5)
                            Rectangle:
                                size: self.size
                                pos: self.pos
                        Label:
                            size_hint_y:0.1
                            color:1,1,1,1
                            size_hint_y:0.07
                            text: "Connected"
                            bold:True

                    ScrollView:
                        GridLayout:
                            cols:1
                            id: devices_box
                            orientation: "vertical"
                            size_hint_y: None
                            height: self.minimum_height
                            row_default_height: 60
                            cols:1

                    GridLayout:
                        cols: 1
                        size_hint_y:0.07
                        canvas.before:
                            Color:
                                rgba:(1,1,1,0.5)
                            Rectangle:
                                size: self.size
                                pos: self.pos




                Label:
                    size_hint_x:0.14
                    id: ""
                BoxLayout:
                    orientation: "vertical"
                    size_hint_x:0.40
                    BoxLayout:
                        size_hint_y:0.5
                        Label:
                            color:1,1,1,1
                            size_hint_y:0.5
                            id: hub_temperature
                            text: "0"+u'\N{DEGREE SIGN}'+"C"
                            font_size: 100
                        Label:
                            color:1,1,1,1
                            id:hub_humidity
                            size_hint_y:0.5
                            text: "Humidity: 12%"
                            bold: True
                    Label:
                        color:1,1,1,1
                        size_hint_y:0.5
                        text: "Everything seems fine"
                        bold: True


                Label:
                    size_hint_x:0.03
                    id: ""


            Label:
                size_hint_y:0.05
                id: ""
        # INFO
        BoxLayout:
            size_hint_y:0.07
            orientation:"horizontal"
            canvas.before:
                Color:
                    rgba:(0.157, 0.455, 0.753, 1.0)
                Rectangle:
                    size: self.size
                    pos: self.pos
            Label:
                color:1,1,1,1
                text: "www.unifyhas.com"
                bold: True








